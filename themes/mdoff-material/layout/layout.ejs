<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <%
  var title = page.title;
  if (is_archive()){
    title = 'Archive';
    if (is_month()){
      title += ': ' + page.year + '/' + page.month;
    } else if (is_year()){
      title += ': ' + page.year;
    }
  } else if (is_category()){
    title = 'category' + ': ' + page.category;
  } else if (is_tag()){
    title = 'tag' + ': ' + page.tag;
  }
  %>
    <title><% if (title){ %><%= title %> | <% } %><%= config.title %></title>
    <link href='https://fonts.googleapis.com/css?family=Ubuntu:400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <%- css('css/material.blue_grey-light_blue.min') %>
    <%- css('css/style') %>
    <%- open_graph() %>
    <% if (theme.favicon){ %>
      <link rel="icon" href="<%-config.root%><%- theme.favicon %>">
    <% } %>
  </head>
<body class="blog">
  <div class="blog-layout mdl-layout mdl-layout--fixed-header mdl-js-layout mdl-color--lime">
  <header class="mdl-layout__header mdl-layout__header--scroll mdl-color--blue-grey">
    <div class="mdl-layout--large-screen-only mdl-layout__header-row"></div>
    <div class="mdl-layout--large-screen-only mdl-layout__header-row">
      <h3><%- config.title %></h3>
    </div>
    <div class="mdl-layout--large-screen-only mdl-layout__header-row"></div>
    <div class="mdl-layout__tab-bar-container">
      <% for (var i in theme.menu){ %>
        <a href="<%- url_for(theme.menu[i]) %>" class="mdl-layout__tab"><%= i %><span class="mdl-layout__tab-ripple-container mdl-js-ripple-effect" data-upgraded=",MaterialRipple"><span class="mdl-ripple"></span></span></a>
      <% } %>
    </div>
  </header>

    <main class="blog-main mdl-layout__content">
      <div class="blog-container mdl-grid">
        <%- body %>
      </div>
      <footer class="blog-footer mdl-mini-footer mdl-color--secondary">
                <div class="mdl-mini-footer--left-section">
                    <ul class="mdl-mini-footer--link-list">
                      <% if (config.social.twitter){ %>
                        <li><a href="<%- theme.social.twitter %>"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.0" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 48 48" class="icon icons8-Twitter" ><path fill="#03A9F4" d="M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058	c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32	c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686	c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181	c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086	c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38	c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"></path></svg></a></li>
                      <% } %>
                      <% if (config.social.github){ %>
                        <li><a href="<%- theme.social.github %>"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.0" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" class="icon icons8-GitHub" ><path d="M15.999,4C9.373,4,4,9.373,4,16.001c0,5.301,3.438,9.799,8.207,11.386 c0.6,0.11,0.819-0.26,0.819-0.578c0-0.285-0.01-1.04-0.016-2.041c-3.338,0.725-4.042-1.609-4.042-1.609 c-0.546-1.386-1.332-1.755-1.332-1.755c-1.09-0.745,0.082-0.729,0.082-0.729c1.204,0.085,1.838,1.237,1.838,1.237 c1.07,1.834,2.809,1.304,3.492,0.997c0.109-0.775,0.419-1.304,0.762-1.604c-2.665-0.303-5.466-1.332-5.466-5.931 c0-1.31,0.468-2.381,1.235-3.22c-0.123-0.304-0.535-1.524,0.118-3.176c0,0,1.008-0.323,3.3,1.23 c0.957-0.266,1.984-0.399,3.004-0.404c1.019,0.005,2.046,0.138,3.004,0.404c2.291-1.553,3.297-1.23,3.297-1.23 c0.655,1.652,0.243,2.872,0.119,3.176c0.769,0.839,1.233,1.91,1.233,3.22c0,4.61-2.806,5.624-5.479,5.921 c0.431,0.37,0.815,1.103,0.815,2.222c0,1.604-0.015,2.898-0.015,3.292c0,0.321,0.216,0.694,0.825,0.577 C24.565,25.795,28,21.301,28,16.001C28,9.373,22.627,4,15.999,4z" fill-rule="evenodd" clip-rule="evenodd"></path></svg></a></li>
                      <% } %>
                    </ul>
                </div>
            </footer>
    </main>
    <% if (config.disqus_shortname){ %>
    <script>
      var disqus_shortname = '<%= config.disqus_shortname %>';
      <% if (page.permalink){ %>
      var disqus_url = '<%= page.permalink %>';
      <% } %>
      (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/<% if (page.comments) { %>embed.js<% } else { %>count.js<% } %>';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <% } %>
    <script>
    (function(){
      var resize = function() {
        document.querySelector('.blog-layout').style['min-height'] = document.body.clientHeight +'px';
        var classNames = document.querySelector('.blog-layout').className;
        var smallClass = 'is-small-screen';
        if (document.body.clientWidth < 500) {
          if(classNames.search(smallClass) === -1) {
            document.querySelector('.blog-layout').className += ' ' + smallClass;
          }
        }
        else {
          document.querySelector('.blog-layout').className = classNames.split(' ').filter(function(name) {return name !== smallClass}).join(' ');
        }
      };
      resize();
      window.onresize = resize;
    })();
    </script>
  </body>
</html>
